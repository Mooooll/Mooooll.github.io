import{_,r as c,b as h,f as d,g as r,h as a,l as o,v as e,k as n,q as v,j as u,w,T as k,s as x,x as b,n as f,m as V}from"./index-7e206856.js";const t=l=>(x("data-v-171a91f9"),l=l(),b(),l),C={class:"flex justify-center"},M={class:"flex flex-col items-start w-5/6 sm:w-5/6 lg:w-3/4 max-w-5xl p-0 sm:p-5"},S=t(()=>a("div",{class:"text-3xl my-8"},"优化",-1)),q={class:"piece"},B=t(()=>a("div",{class:"title"},"SPA首屏优化：路由懒加载",-1)),j=t(()=>a("p",null,"此项目是用 Vite + Vue3 构建的单页应用（SPA），初次进入首页时需要加载的内容非常多，需要更长的时间来渲染内容，导致出现长时间的白屏，不利于用户体验。",-1)),T=t(()=>a("br",null,null,-1)),z=t(()=>a("p",null,"解决办法：以函数的形式加载路由，例: ",-1)),I={class:"pre-c",title:"这个代码块高亮是自己写的，过于麻烦了，我劝自己好自为之"},N={class:"num-c"},L={class:"relative"},A=f('<li data-v-171a91f9><div data-v-171a91f9><span class="text-lime-600 dark:text-neutral-400" data-v-171a91f9>{</span></div></li><li data-v-171a91f9><div data-v-171a91f9>  path<span class="text-green-600 dark:text-gray-500" data-v-171a91f9>:</span> <span class="text-sky-600 dark:text-lime-500" data-v-171a91f9>&quot;/summary&quot;</span>,</div></li><li data-v-171a91f9><div data-v-171a91f9>  name<span class="text-green-600 dark:text-gray-500" data-v-171a91f9>:</span> <span class="text-sky-600 dark:text-lime-500" data-v-171a91f9>&quot;summary&quot;</span>,</div></li><li data-v-171a91f9><div data-v-171a91f9>  component<span class="text-green-600 dark:text-gray-500" data-v-171a91f9>:</span> <span class="text-lime-600 dark:text-neutral-400" data-v-171a91f9>(</span><span class="text-lime-600 dark:text-neutral-400" data-v-171a91f9>)</span><span class="text-green-600 dark:text-gray-500" data-v-171a91f9>=&gt;</span> <span data-v-171a91f9>import</span><span class="text-lime-600 dark:text-neutral-400" data-v-171a91f9>(</span><span class="text-sky-600 dark:text-lime-500" data-v-171a91f9>&#39;../views/otherpages/summary.vue&#39;</span><span class="text-lime-600 dark:text-neutral-400" data-v-171a91f9>)</span></div></li><li data-v-171a91f9><div data-v-171a91f9><span class="text-lime-600 dark:text-neutral-400" data-v-171a91f9>}</span>,</div></li>',5),H=[A],P=t(()=>a("p",null,"以显著减小入口文件体积，这样就可以把各自的路由文件分别打包，只有在解析给定的路由时，才会加载路由组件。肉眼可见快很多。",-1)),R=t(()=>a("br",null,null,-1)),$=t(()=>a("a",{class:"link",target:"_blank",href:"https://cn.vuejs.org/guide/best-practices/performance#code-splitting"},[V(" 参阅 Vue 官方文档：代码分割 "),a("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",height:"24px",viewBox:"0 0 24 24",width:"24px",class:"w-3 h-3 mb-2 fill-neutral-500 dark:fill-neutral-200 inline"},[a("path",{d:"M0 0h24v24H0V0z",fill:"none"}),a("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"})])],-1)),D={class:"piece"},E=t(()=>a("div",{class:"title"},"图片懒加载",-1)),O=t(()=>a("p",null,"只要你往页面中塞满大图，它就能加载到天荒地老",-1)),U=t(()=>a("br",null,null,-1)),F=t(()=>a("p",null,"1. 压缩文件",-1)),G=t(()=>a("p",null,"2. 图片懒加载，例：",-1)),J={class:"pre-c",style:{"font-family":"monospace"}},K={class:"num-c"},Q={class:"relative"},W=f('<li data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>  mounted<span style="color:#009900;" data-v-171a91f9>(</span>el, binding<span style="color:#009900;" data-v-171a91f9>)</span> <span style="color:#009900;" data-v-171a91f9>{</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>    <span style="color:#000000;font-weight:bold;" data-v-171a91f9>const</span> ob <span style="color:#339933;" data-v-171a91f9>=</span> <span style="color:#000000;font-weight:bold;" data-v-171a91f9>new</span> IntersectionObserver<span style="color:#009900;" data-v-171a91f9>(</span><span style="color:#009900;" data-v-171a91f9>(</span>entries<span style="color:#009900;" data-v-171a91f9>)</span> <span style="color:#339933;" data-v-171a91f9>=&gt;</span> <span style="color:#009900;" data-v-171a91f9>{</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>      <span style="color:#000000;font-weight:bold;" data-v-171a91f9>if</span> <span style="color:#009900;" data-v-171a91f9>(</span>entries<span style="color:#009900;" data-v-171a91f9>[</span><span style="color:#cc66cc;" data-v-171a91f9>0</span><span style="color:#009900;" data-v-171a91f9>]</span>.<span style="color:#006633;" data-v-171a91f9>intersectionRatio</span> <span style="color:#339933;" data-v-171a91f9>&gt;</span> <span style="color:#cc66cc;" data-v-171a91f9>0</span><span style="color:#009900;" data-v-171a91f9>)</span> <span style="color:#009900;" data-v-171a91f9>{</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>        ob.<span style="color:#006633;" data-v-171a91f9>unobserve</span><span style="color:#009900;" data-v-171a91f9>(</span>el<span style="color:#009900;" data-v-171a91f9>)</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>        el.<span style="color:#006633;" data-v-171a91f9>onerror</span> <span style="color:#339933;" data-v-171a91f9>=</span> <span style="color:#009900;" data-v-171a91f9>(</span><span style="color:#009900;" data-v-171a91f9>)</span> <span style="color:#339933;" data-v-171a91f9>=&gt;</span> <span style="color:#009900;" data-v-171a91f9>{</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>          el.<span style="color:#006633;" data-v-171a91f9>src</span> <span style="color:#339933;" data-v-171a91f9>=</span> <span style="color:#000000;font-weight:bold;" data-v-171a91f9>new</span> <span style="color:#003399;" data-v-171a91f9>URL</span><span style="color:#009900;" data-v-171a91f9>(</span>`..<span style="color:#339933;" data-v-171a91f9>/</span>..<span style="color:#339933;" data-v-171a91f9>/</span>assets<span style="color:#339933;" data-v-171a91f9>/</span>img<span style="color:#339933;" data-v-171a91f9>/</span>svg<span style="color:#339933;" data-v-171a91f9>/</span>image<span style="color:#339933;" data-v-171a91f9>-</span>no.<span style="color:#006633;" data-v-171a91f9>svg</span>`, <span style="color:#000000;font-weight:bold;" data-v-171a91f9>import</span>.<span style="color:#006633;" data-v-171a91f9>meta</span>.<span style="color:#006633;" data-v-171a91f9>url</span><span style="color:#009900;" data-v-171a91f9>)</span>.<span style="color:#006633;" data-v-171a91f9>href</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>        <span style="color:#009900;" data-v-171a91f9>}</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>        el.<span style="color:#006633;" data-v-171a91f9>src</span> <span style="color:#339933;" data-v-171a91f9>=</span> binding.<span style="color:#006633;" data-v-171a91f9>value</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>      <span style="color:#009900;" data-v-171a91f9>}</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>    <span style="color:#009900;" data-v-171a91f9>}</span>, <span style="color:#009900;" data-v-171a91f9>{</span> threshold<span style="color:#339933;" data-v-171a91f9>:</span> <span style="color:#cc66cc;" data-v-171a91f9>0</span> <span style="color:#009900;" data-v-171a91f9>}</span><span style="color:#009900;" data-v-171a91f9>)</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>    ob.<span style="color:#006633;" data-v-171a91f9>observe</span><span style="color:#009900;" data-v-171a91f9>(</span>el<span style="color:#009900;" data-v-171a91f9>)</span></div></li><li style="font-weight:normal;vertical-align:top;" data-v-171a91f9><div style="font:normal normal 1em/1.2em monospace;margin:0;padding:0;background:none;vertical-align:top;" data-v-171a91f9>  <span style="color:#009900;" data-v-171a91f9>}</span></div></li>',12),X=[W],Y=t(()=>a("div",{class:"piece pt-20 select-none"},"2024.9.6 持续更新中...",-1)),Z={class:"fixed right-6 bottom-6 flex flex-col md:flex-row gap-2 opacity-30 hover:opacity-100 transition-all"},aa=t(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 512 512"},[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 328l144-144 144 144"})],-1)),ta=[aa],sa={xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 512 512"},na=t(()=>a("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1)),oa=t(()=>a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320L192 192M192 320l128-128"},null,-1)),ea=[na,oa],la={xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 512 512"},ia=t(()=>a("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1)),da=t(()=>a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 176L217.6 336 160 272"},null,-1)),ra=[ia,da],pa={__name:"summary",setup(l){let p=c(!1);h(()=>{setTimeout(()=>{p.value=!0},100)});let s=c(!0);const m=()=>{s.value=!s.value},g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(ca,i)=>(d(),r("div",C,[a("div",M,[S,a("div",q,[B,j,T,z,a("pre",I,[o(a("div",N,null,512),[[e,n(s)]]),a("code",L,[a("ol",{class:v({"list-decimal":n(s)})},H,2)])]),P,R,$]),a("div",D,[E,O,U,F,G,a("pre",J,[o(a("div",K,null,512),[[e,n(s)]]),a("code",Q,[a("ol",{class:v({"list-decimal":n(s)})},X,2)])])]),Y]),u(k,{name:"fade"},{default:w(()=>[o(a("div",Z,[a("div",{class:"btn-square",onClick:i[0]||(i[0]=y=>g()),title:"回到顶部"},ta),a("div",{class:"btn-square",onClick:i[1]||(i[1]=y=>m()),title:"代码块行号开关"},[o((d(),r("svg",sa,ea,512)),[[e,n(s)]]),o((d(),r("svg",la,ra,512)),[[e,!n(s)]])])],512),[[e,n(p)]])]),_:1})]))}},fa=_(pa,[["__scopeId","data-v-171a91f9"]]);export{fa as default};

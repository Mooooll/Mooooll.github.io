import{_,r as c,b as d,c as y,t as h,u as f,n as g}from"./index-c85c95dd.js";const m={throttle(i,l,t=!0,e=!1){let o=0,n=!0,s=null;return function(...a){const u=new Date().getTime();!t&&n&&(o=u,n=!1);const p=u-o;p-l>=0&&(i.apply(this,a),o=u),p<l&&(s&&clearTimeout(s),s=setTimeout(()=>{e&&i.apply(this,a),n=!0},l))}},debounce(i,l=1e3,t=!0){let e;return function(){const o=this,n=[...arguments];if(e&&clearTimeout(e),t){const s=!e;e=setTimeout(()=>{e=null},l),s&&i.apply(o,n)}else e=setTimeout(()=>{i.apply(o,n)},l)}},sleep(i){return new Promise(l=>setTimeout(l,i))}};const T={__name:"type",props:{list:{type:Object,default:()=>[]},loop:{type:Boolean,default:!1},speed:{type:Number,default:100},interval:{type:Number,default:3e3}},emits:["finished"],setup(i,{emit:l}){const t=i;let e=c(""),o=c(!0);const n=async()=>{if(t.list.length<=0){console.error("list 数据缺失");return}for(let s=0;s<t.list.length;s++){const r=t.list[s];for(let a=0;a<r.length;a++)e.value+=r[a],await m.sleep(t.speed);await m.sleep(t.interval),s<t.list.length-1&&(e.value="")}t.loop?(e.value="",n()):(o.value=!1,l("finished"))};return n(),(s,r)=>(d(),y("div",{class:g({text:f(o)})},h(f(e)),3))}},x=_(T,[["__scopeId","data-v-514df273"]]);export{x as t,m as u};
